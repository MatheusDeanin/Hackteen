<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>DriveGood - Mapa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Estilos do Leaflet para exibir o mapa -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- Estilos personalizados do site -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Ícone da aba do navegador -->
    <link rel="icon" href="imagens/Logo.png">

    <!-- Estilos e scripts da biblioteca de rotas do Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

    <!-- Biblioteca para gerar QR Code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <!-- Cabeçalho com menu e busca de endereços -->
    <header>
        <!-- Botão para abrir menu lateral -->
        <button class="menu" id="botaoMenu">☰ Menu</button>

        <!-- Formulário de busca de endereço -->
        <div id="form-container">
            <div class="pesquisa">
                <form id="searchForm" class="pesquisa" autocomplete="off" action="#" novalidate style="width: 300px; background-color: white; padding: 15px; border-radius: 5px;">
                    <input type="search" id="endereco" name="endereco" placeholder="Digite um endereço..."
                        style="width: 155px;" autocomplete="off" autocapitalize="off" inputmode="search" enterkeyhint="search" aria-label="Pesquisar endereço"/>
                    <button type="submit" class="Buscar">Buscar e Traçar Rota</button>
                </form>
                <!-- Containers para sugestões de endereços -->
                <div id="sugestoes-ultimas"></div>
                <div id="sugestoes-proximas"></div>
            </div>
        </div>

        <!-- Tela de carregamento -->
        <div id="tela-carregamento" class="esconder">
            <div class="spinner"></div> 
            <p>Carregando...</p>
        </div>

        <!-- Sugestão de rota -->
        <div id="sugestao-virada" class="esconder">
            <p id="texto-sugestao"></p>
        </div>

        <!-- Menu de navegação principal -->
        <div class="textomenu">
            <a href="sobre.html">Sobre</a>
            <a>•</a>
            <a href="#">Mapa</a>
            <a>•</a>
            <a href="github.html">GitHUB</a>
            <a>•</a>
            <a href="contato.html">Contato</a>
        </div>

        <!-- Menu lateral com legenda e filtros de camadas do mapa -->
        <nav id="sidebar">
            <h1>Legenda</h1>
            <!-- Cada <p> representa um filtro de camada com SVG de ícone -->
            <p class="toggle-layer" data-layer="postos">Posto</p>
            <p class="toggle-layer" data-layer="bancos">Bancos</p>
            <p class="toggle-layer" data-layer="pontos_onibus">Pontos de ônibus</p>
            <p class="toggle-layer" data-layer="hospitais">Hospitais</p>
            <p class="toggle-layer" data-layer="igrejas">Igrejas</p>
            <p class="toggle-layer" data-layer="hotel">Hoteis</p>
            <p class="toggle-layer" data-layer="supermercados">Supermercados</p>
            <p class="toggle-layer" data-layer="lojasderoupa">Lojas de roupa</p>
            <p class="toggle-layer" data-layer="restaurantes">Restaurantes</p>

            <!-- Script local para manipulação das camadas -->
            <script src="JavaScript/pontos.js"></script>
        </nav>

        <!-- Fundo escurecido quando o menu lateral está aberto -->
        <div id="overlay"></div>
    </header>

    <!-- Container do mapa Leaflet -->
    <div id="map" style="z-index: 0;"></div>

    <!-- Scripts externos do Leaflet e script principal -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="JavaScript/index.js"></script>

    <!-- Container para QR Code de compartilhamento de rota -->
    <div id="qrcode-container">
        <button id="qrcode-expander">QR</button>
        <div id="qrcode-content" class="esconder">
            <h3>Compartilhe sua rota</h3>
            <div id="qrcode"></div>
            <button id="fechar-qrcode">Fechar</button>
        </div>
    </div>
</body>
</html>